import { useState } from "react"
import { Map, Marker, ZoomControl, GeoJson } from "pigeon-maps"

const pittsburgh = {
  "type":"FeatureCollection","features":[{"geometry":{
    "type":"Polygon","coordinates":[[[-80.365,40.476],[-80.365,40.479],[-80.361,40.483],[-80.355,40.486],[-80.229,40.577],[-80.222,40.585],[-80.215,40.585],[-80.215,40.587],[-80.21,40.592],[-80.205,40.593],[-80.199,40.599],[-80.193,40.601],[-80.184,40.609],[-80.183,40.613],[-80.178,40.614],[-80.175,40.612],[-80.165,40.611],[-80.161,40.614],[-80.156,40.613],[-80.153,40.616],[-80.149,40.616],[-80.153,40.674],[-80.151,40.678],[-80.07,40.679],[-79.997,40.677],[-79.988,40.678],[-79.964,40.676],[-79.785,40.676],[-79.732,40.673],[-79.692,40.674],[-79.689,40.672],[-79.688,40.669],[-79.692,40.662],[-79.685,40.651],[-79.685,40.642],[-79.687,40.637],[-79.699,40.623],[-79.71,40.617],[-79.72,40.604],[-79.761,40.59],[-79.769,40.582],[-79.77,40.577],[-79.77,40.57],[-79.763,40.554],[-79.755,40.554],[-79.753,40.556],[-79.75,40.556],[-79.744,40.553],[-79.734,40.553],[-79.729,40.548],[-79.719,40.545],[-79.713,40.537],[-79.708,40.536],[-79.707,40.534],[-79.704,40.533],[-79.703,40.53],[-79.699,40.529],[-79.698,40.527],[-79.698,40.477],[-79.701,40.424],[-79.704,40.419],[-79.712,40.415],[-79.715,40.41],[-79.718,40.41],[-79.718,40.407],[-79.72,40.405],[-79.728,40.404],[-79.728,40.399],[-79.732,40.394],[-79.735,40.394],[-79.739,40.391],[-79.743,40.392],[-79.746,40.387],[-79.751,40.384],[-79.76,40.387],[-79.759,40.385],[-79.761,40.381],[-79.766,40.379],[-79.784,40.301],[-79.771,40.29],[-79.771,40.284],[-79.778,40.278],[-79.792,40.278],[-79.79,40.272],[-79.784,40.266],[-79.783,40.263],[-79.784,40.259],[-79.793,40.251],[-79.795,40.245],[-79.799,40.24],[-79.803,40.238],[-79.803,40.236],[-79.782,40.232],[-79.779,40.229],[-79.78,40.225],[-79.872,40.193],[-79.881,40.193],[-79.892,40.19],[-79.912,40.193],[-79.921,40.197],[-79.931,40.204],[-79.95,40.207],[-79.958,40.21],[-79.974,40.224],[-79.975,40.232],[-79.968,40.241],[-79.961,40.244],[-79.94,40.245],[-79.925,40.249],[-79.923,40.251],[-80.186,40.329],[-80.231,40.368],[-80.233,40.368],[-80.251,40.384],[-80.363,40.474],[-80.365,40.476]]]
  }}]
};

const cranberry = {"type":"FeatureCollection","features":[{"geometry":{
  "type":"Polygon","coordinates":[[[-80.059,40.748],[-80.053,40.689],[-80.055,40.685],[-80.052,40.683],[-80.052,40.678],[-80.056,40.676],[-80.057,40.671],[-80.151,40.671],[-80.153,40.674],[-80.157,40.745],[-80.153,40.749],[-80.059,40.748]],[[-80.059,40.686],[-80.06,40.685],[-80.059,40.685],[-80.059,40.686]]]
}}]};

export default function MapComponent() {
  const [center, setCenter] = useState([40.4653, -79.9805])
  const [zoom, setZoom] = useState(10)
  return (
    <Map 
      height={600}
      center={center} 
      zoom={zoom} 
      onBoundsChanged={({ center, zoom }) => { 
        setCenter(center) 
        setZoom(zoom) 
      }}
      attribution={false} 
      metaWheelZoom={true}
    >
      <GeoJson
        data={pittsburgh}
        svgAttributes={{
            strokeWidth: "2",
            stroke: "#9e2a2b",
            fill: "#aaaaaa22",
        }}
      />
      <GeoJson
        data={cranberry}
        svgAttributes={{
            strokeWidth: "2",
            stroke: "#9e2a2b",
            fill: "#aaaaaa22",
        }}
      />
      <Marker color={"#9e2a2b"} width={32} anchor={[40.4380, -79.9841]} />
      <Marker color={"#9e2a2b"} width={32} anchor={[40.5204, -80.0372]} />
      <Marker color={"#9e2a2b"} width={32} anchor={[40.6833, -80.1018]} />
      <ZoomControl />
    </Map>
  )
};
// stroke: "#9e2a2b",
